<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>體重紀錄</title>
  </head>

  <body>
    <%- include('./layout/header'); -%>
    <section class="hero-gradient">
      <div class="container">
        <div class="row justify-content-center mb-5">
          <div class="col-12 px-5">
            <div class="d-flex justify-content-between align-items-center">
              <a
                class="text-decoration-none d-inline-block text-black fw-bold"
                href="./personal.html"
                >返回</a
              >
              <h2 class="fs-4 fw-bold mb-0">體重</h2>
              <div>
                <img
                  src="../assets/images/pet-avatar-greenFrame.png"
                  style="width: 44px; height: 44px"
                  alt=""
                />
              </div>
              <!-- 佔位符保持標題居中 -->
            </div>
          </div>
        </div>
        <div class="row justify-content-center">
          <div
            class="col-10 d-flex justify-content-between bg-white rounded-3 p-4"
          >
            <div>
              <p class="mb-0 fw-bold">目前</p>
              <p class="mb-0 fs-8">測量日期：2025/07/26</p>
            </div>
            <div class="d-flex align-items-center">
              <p class="mb-0 fw-bold fs-3">11.6<span class="fs-8">kg</span></p>
            </div>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-center mt-5 mb-2">
        <div class="col-10">
          <div class="d-flex justify-content-between align-items-center">
            <p class="fs-7 mb-0 fw-bold text-black">體重變化趨勢</p>
            <p class="fs-8 mb-0 text-black">2025/07/20 - 2025/07/26</p>
          </div>
        </div>
      </div>
      <div class="container-fluid">
        <div class="d-flex flex-nowrap gap-5 scroll-container">
          <div
            class="col-12 chart-item bg-white rounded-4 shadow-sm p-3 flex-shrink-0"
          >
            <p class="mb-2 fs-8 text-neutral-500">本週</p>
            <div class="bg-light rounded mb-3">
              <img src="../assets/images/Line_chart-1.png" alt="" />
            </div>
            <div class="d-flex justify-content-between">
              <small>7/20</small><small>7/21</small><small>7/22</small>
              <small>7/23</small><small>7/24</small><small>7/25</small
              ><small>7/26</small>
            </div>
          </div>

          <div
            class="col-12 chart-item bg-white rounded-4 shadow-sm p-3 flex-shrink-0 position-relative"
          >
            <div class="bg-white rounded-4 bir-ds p-3">
              <p class="mb-0 fs-8">7/2</p>
              <p class="mb-0 fs-8">11.6 kg</p>
              <p class="mb-0 fs-8 text-neutral-500">
                Simon 生日，吃<br />了一塊蛋糕
              </p>
            </div>
            <p class="mb-2 fs-8 text-neutral-500">第 1 週</p>
            <div class="bg-light rounded mb-3">
              <img src="../assets/images/Line_chart-2.png" alt="" />
            </div>
            <div class="d-flex justify-content-between">
              <small>6/29</small><small>6/30</small><small>7/01</small>
              <small>7/02</small><small>7/03</small><small>7/04</small
              ><small>7/05</small>
            </div>
          </div>

          <div
            class="col-12 chart-item bg-white rounded-4 shadow-sm p-3 flex-shrink-0 position-relative"
            style="opacity: 0.5"
          >
            <div class="weight-info">
              <p>沒有更多資料了</p>
            </div>
            <p class="mb-2 fs-8 text-neutral-500">第 1 週</p>
            <div class="bg-light rounded mb-3">
              <img src="../assets/images/Line_chart-3.png" alt="" />
            </div>
            <div class="d-flex justify-content-between">
              <small>6/29</small><small>6/30</small><small>7/01</small>
              <small>7/02</small><small>7/03</small><small>7/04</small
              ><small>7/05</small>
            </div>
          </div>
        </div>
      </div>

      <div class="position-relative mt-5">
        <div class="col-6 ps-5">
          <div class="bg-orange-100 rounded-4 position-relative">
            <div class="weight-bubble">
              <img
                src="../assets/images/right pointer-bubble-02.svg"
                alt="right pointer-bubble-02"
              />
            </div>
            <p class="mb-0 px-4 py-3 fs-8">
              盡量每天紀錄體重，分析才會準確唷！
            </p>
          </div>
        </div>
        <div class="weight-pic-ava">
          <img class="w-60" src="../assets/images/weight-ava.svg" alt="" />
        </div>
      </div>
    </section>
    <%- include('./layout/footer'); -%>

    <script type="module" src="../main.js"></script>

    <script>
      const container = document.querySelector(".scroll-container");
      let isDragging = false;
      let startX, scrollLeft;

      container.addEventListener("mousedown", (e) => {
        isDragging = true;
        startX = e.pageX - container.offsetLeft;
        scrollLeft = container.scrollLeft;
      });

      container.addEventListener("mousemove", (e) => {
        if (!isDragging) return;
        e.preventDefault();
        const x = e.pageX - container.offsetLeft;
        container.scrollLeft = scrollLeft - (x - startX);
      });

      container.addEventListener("mouseup", () => (isDragging = false));
      container.addEventListener("mouseleave", () => (isDragging = false));
    </script>
  </body>
</html>
